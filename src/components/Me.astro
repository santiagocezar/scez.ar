---
import * as doc from "./me.md";

const content = await doc.compiledContent()

console.log(content)

const birthday = new Date(2004, 5, 24);
const now = new Date();

let age = now.getYear() - birthday.getYear();
if (now.getMonth() == birthday.getMonth() && now.getDate() < birthday.getDate()) {
    age--
} else if (now.getMonth() < birthday.getMonth()) {
    age--
}


---

<div class="root">
    <div class="img"></div>
    <section class="text" set:html={content.replace('@age@', age)} />
</div>

<style>
    .root {
        display: grid;
        margin: 0 auto;
        max-width: 60rem;
        font-size: 1.1rem;
        grid-template:
            ". i1 ." 1fr
            "t t i2" 4fr
            "t t ." 1fr
            / 2fr 2fr 2fr;
    }
    .text {
        grid-area: t;
        border: var(--blue3) solid 1px;
        box-shadow: .25rem .25rem var(--blue3);
        background-color: var(--blue1);
        color: var(--black);
        padding: 1em;
        line-height: 1.4;
        border-radius: 1em;
        height: fit-content;
        min-height: fit-content;
    }
    .img {
        grid-area: i1-start / i1-start / i2-end / i2-end;
        border: black solid 1px;
        box-shadow: .25rem .25rem black;
        background-image: url("/img/bg.webp");
        background-position: center;
        background-size: cover;
        border-radius: 1em;
        width: 100%;
        height: 100%;
    }
    @media screen and (max-width: 40rem) {
        .root {
            grid-template-rows: 0.5fr 2fr 1fr;
            grid-template-columns: 1fr 6fr 1fr;
        }
    }
</style>
